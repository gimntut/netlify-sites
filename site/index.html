<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <title>API Client</title>
    <link rel="stylesheet" href="//cdn.webix.com/edge/webix.css" type="text/css">
    <script src="//cdn.webix.com/edge/webix.js" type="text/javascript"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/js-yaml/3.11.0/js-yaml.min.js"></script>
    <script src="//code.jquery.com/jquery-1.12.4.min.js"></script>
    <script src="/webix-ext.js" type="text/javascript"></script>
    <script src="/ui.js" type="text/javascript"></script>
</head>

<body>
  <style type="text/css">
    span.btn {
      padding: 2px;
      border: gray 1px solid;
      background-color: green;
      color: white;
      min-width: 30px;
      cursor: pointer;
      display: inline-block;
      text-align: center;
    }
    .webix_cell p {
      margin: 0;
    }
    .info th {
      text-align: left;
    }
    .info td, .info th {
      padding: 2px 6px;
    }
  </style>
  <div id="container"></div>
  <script id="ui" language="text/yaml">
    container: container
    rows:
    - view: toolbar
      cols:
        - view: button
          label: –ù–∞—Å—Ç—Ä–æ–π–∫–∏
          on:
            onItemClick: func:> settings
        - view: button
          label: –ù–∞—á–∞–ª–æ
          on:
            onItemClick: func:> home
    - view: multiview
      id: pages
      cells:
      - id: settings
        rows:
        - view: text
          id: url
          label: URL
          placeholder: http://localhost:8000
          on:
            onChange: func:> changeUrl
        - view: text
          id: token
          label: Token
        - template: "{obj.url?<a href='#url#/admin/authtoken/token/' target='_blank'>–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–æ–∫–µ–Ω–æ–≤</a>:}"
          id: tokenAdmin
          autoheight: true
          type: clean
        - view: button
          label: –ù–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
          on:
            onItemClick: func:> start
      - id: start
        rows:
        - view: button
          label: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–∫—É—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
          on:
            onItemClick: func:> visitor
        - view: button
          label: –ü—Ä–æ–¥—É–∫—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–µ–∫—É—â–µ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
          on:
            onItemClick: func:> products
      - id: productsPage
        rows:
        - type: header
          template: –ü—Ä–æ–¥—É–∫—Ç—ã <small>–í—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ –ø—Ä–æ–¥—É–∫—Ç–æ–≤</small>
        - id: products
          view: datatable
          # autowidth: true
          autoheight: true
          select: row
          on:
            onAfterLoad: func:> afterLoad
            onAfterSelect: func:> selectProduct
          columns:
            - header: –û–ø–∏—Å–∞–Ω–∏–µ
              id: title
              template: '#title#'
              fillspace: true
            - header: –î–µ–π—Å—Ç–≤–∏—è
              id: actions
              adjust: true
              template: |
                <span class="btn info" title="–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–¥—É–∫—Ç–µ">‚ÑπÔ∏è</span>
          onClick:
            info: func:> clickProductInfo
        - height: 10
        - type: header
          template: –¢–∞—Ä–∏—Ñ—ã
        - id: tariffs
          view: datatable
          autoConfig: true
          autoheight: true
          minHeight: 100
          columns:
            - id: title
              header: –ù–∞–∑–≤–∞–Ω–∏–µ
              template: '#title#'
              fillspace: true
            - id: status
              header: –°—Ç–∞—Ç—É—Å
              template: '#status#'
              adjust: true
            - id: price
              header: –¶–µ–Ω–∞
              template: '#price.incl_tax# #price.currency#'
              adjust: true
            - id: actions
              header: –î–µ–π—Å—Ç–≤–∏—è
              adjust: true
              template: |
                <span class="btn basket" title="–ü–æ–ª–æ–∂–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É">üõí</span>
          onClick:
            basket: func:> clickAddToBasket
      - id: basket
        autoheight: true
        template: |
          <table class="info">
            <tr><th>id</th><td>#id#</td></tr>
            <tr><th>owner</th><td>#owner#</td></tr>
            <tr><th>status</th><td>#status#</td></tr>
            <tr><th>lines</th><td>#lines#</td></tr>
            <tr><th>url</th><td>#url#</td></tr>
            <tr><th>total_excl_tax</th><td>#total_excl_tax#</td></tr>
            <tr><th>total_excl_tax_excl_discounts</th><td>#total_excl_tax_excl_discounts#</td></tr>
            <tr><th>total_incl_tax</th><td>#total_incl_tax#</td></tr>
            <tr><th>total_incl_tax_excl_discounts</th><td>#total_incl_tax_excl_discounts#</td></tr>
            <tr><th>total_tax</th><td>#total_tax#</td></tr>
            <tr><th>currency</th><td>#currency#</td></tr>
            <tr><th>voucher_discounts</th><td>#voucher_discounts#</td></tr>
            <tr><th>offer_discounts</th><td>#offer_discounts#</td></tr>
            <tr><th>is_tax_known</th><td>#is_tax_known#</td></tr>
          </table>
          <span class="btn checkout">üñäÔ∏è –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑Ô∏è</span>
        onClick:
          checkout: func:> clickCheckout
      - id: checkoutPage
        rows:
        - id: order
          autoheight: true
          template: |
            <table class="info">
              <tr><th>number</th><td>#number#</td></tr>
              <tr><th>basket</th><td>#basket#</td></tr>
              <tr><th>url</th><td>#url#</td></tr>
              <tr><th>lines</th><td>#lines#</td></tr>
              <tr><th>owner</th><td>#owner#</td></tr>
              <tr><th>billing_address</th><td>#billing_address#</td></tr>
              <tr><th>currency</th><td>#currency#</td></tr>
              <tr><th>total_incl_tax</th><td>#total_incl_tax#</td></tr>
              <tr><th>total_excl_tax</th><td>#total_excl_tax#</td></tr>
              <tr><th>shipping_incl_tax</th><td>#shipping_incl_tax#</td></tr>
              <tr><th>shipping_excl_tax</th><td>#shipping_excl_tax#</td></tr>
              <tr><th>shipping_address</th><td>#shipping_address#</td></tr>
              <tr><th>shipping_method</th><td>#shipping_method#</td></tr>
              <tr><th>shipping_code</th><td>#shipping_code#</td></tr>
              <tr><th>status</th><td>#status#</td></tr>
              <tr><th>guest_email</th><td>#guest_email#</td></tr>
              <tr><th>date_placed</th><td>#date_placed#</td></tr>
              <tr><th>payment_url</th><td>#payment_url#</td></tr>
              <tr><th>offer_discounts</th><td>#offer_discounts#</td></tr>
              <tr><th>voucher_discounts</th><td>#voucher_discounts#</td></tr>
            </table>
        - view: tabview
          cells:
          - header: "–ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞"
            body:
              id: card
              view: form
              on:
                onSubmit: func:> payment
              elements:
              - view: text
                id: cardNumber
                name: number
                labelPosition: top
                label: –ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã
                value: '4111111111111111'
              - cols:
                - view: text
                  id: month
                  name: expiry_month
                  labelPosition: top
                  label: –ú–µ—Å—è—Ü
                  value: 12
                - view: text
                  id: year
                  name: expiry_year
                  labelPosition: top
                  label: –ì–æ–¥
                  value: 22
                - view: text
                  id: cvv
                  name: csc
                  labelPosition: top
                  label: CVV
                  value: 123
                - view: button
                  value: –ö—É–ø–∏—Ç—å
                  type: form
                  on:
                    onItemClick: func:> payment
          - header: "–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ–µ –ø–ª–∞—Ç—ë–∂–Ω–æ–µ —Å—Ä–µ–¥—Å—Ç–≤–æ"
            body:
              id: sources
              template: –î–ª—è —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ—Ç API
      - id: links
        template: |
          <a href="#url#/admin/customer/access/" target="_blank">–î–æ—Å—Ç—É–ø—ã</a><br>
          <a href="#url#/admin/yakassa/operationdetails/" target="_blank">–î–µ—Ç–∞–ª–∏ –ø–ª–∞—Ç–µ–∂–µ–π</a><br>
          <a href="#url#/admin/order/order/" target="_blank">–ó–∞–∫–∞–∑—ã</a><br>
          <a href="#url#/admin/customer/purchase/" target="_blank">–ü–æ–∫—É–ø–∫–∏</a><br>
      - id: loading
        template: <h1>–ü–æ–¥–æ–∂–¥–∏—Ç–µ, –∏–¥—ë—Ç –∑–∞–≥—Ä—É–∑–∫–∞...</h1>

  </script>

  <div id="container"></div>
</body>

</html>